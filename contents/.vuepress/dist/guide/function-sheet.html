<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>H  核心功能一览表 | Blog.Core</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/.doc/favicon.ico">
    <meta name="description" content="Hello, 欢迎使用前后端分离之 ASP.NET Core 后端全家桶框架!">
    
    <link rel="preload" href="/.doc/assets/css/0.styles.dee2930d.css" as="style"><link rel="preload" href="/.doc/assets/js/app.9f716c86.js" as="script"><link rel="preload" href="/.doc/assets/js/2.9993b050.js" as="script"><link rel="preload" href="/.doc/assets/js/1.2563e7c6.js" as="script"><link rel="preload" href="/.doc/assets/js/29.eec09039.js" as="script"><link rel="prefetch" href="/.doc/assets/js/10.ef728bdd.js"><link rel="prefetch" href="/.doc/assets/js/11.8ac5d1e0.js"><link rel="prefetch" href="/.doc/assets/js/12.34c73094.js"><link rel="prefetch" href="/.doc/assets/js/13.ffff2301.js"><link rel="prefetch" href="/.doc/assets/js/14.daad03b1.js"><link rel="prefetch" href="/.doc/assets/js/15.a6a3d897.js"><link rel="prefetch" href="/.doc/assets/js/16.6fd44419.js"><link rel="prefetch" href="/.doc/assets/js/17.b8bd5064.js"><link rel="prefetch" href="/.doc/assets/js/18.e6ba2ff7.js"><link rel="prefetch" href="/.doc/assets/js/19.8c46317b.js"><link rel="prefetch" href="/.doc/assets/js/20.b43d0d46.js"><link rel="prefetch" href="/.doc/assets/js/21.3d5a5e81.js"><link rel="prefetch" href="/.doc/assets/js/22.68f53e17.js"><link rel="prefetch" href="/.doc/assets/js/23.4b268a8e.js"><link rel="prefetch" href="/.doc/assets/js/24.b0d92d6e.js"><link rel="prefetch" href="/.doc/assets/js/25.e190b6f1.js"><link rel="prefetch" href="/.doc/assets/js/26.f7372e92.js"><link rel="prefetch" href="/.doc/assets/js/27.3894c980.js"><link rel="prefetch" href="/.doc/assets/js/28.cda83a6f.js"><link rel="prefetch" href="/.doc/assets/js/3.6471b2b2.js"><link rel="prefetch" href="/.doc/assets/js/30.9fafc074.js"><link rel="prefetch" href="/.doc/assets/js/4.c1ca998f.js"><link rel="prefetch" href="/.doc/assets/js/5.d22330d1.js"><link rel="prefetch" href="/.doc/assets/js/6.e632449b.js"><link rel="prefetch" href="/.doc/assets/js/7.6c339768.js"><link rel="prefetch" href="/.doc/assets/js/vendors~docsearch.dd461856.js">
    <link rel="stylesheet" href="/.doc/assets/css/0.styles.dee2930d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/.doc/" class="home-link router-link-active"><!----> <span class="site-name">Blog.Core</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/.doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/.doc/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/.doc/Update/" class="nav-link">
  更新日志
</a></div><div class="nav-item"><a href="/.doc/PressureTest/" class="nav-link">
  压测
</a></div><div class="nav-item"><a href="/.doc/Contribution/" class="nav-link">
  参与贡献
</a></div><div class="nav-item"><a href="/.doc/QQ/" class="nav-link">
  BCVP社区
</a></div><div class="nav-item"><a href="http://apk.neters.club" target="_blank" rel="noopener noreferrer" class="nav-link external">
  接口API
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://vueadmin.neters.club" target="_blank" rel="noopener noreferrer" class="nav-link external">
  管理后台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/anjoy8/Blog.Core" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/.doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/.doc/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/.doc/Update/" class="nav-link">
  更新日志
</a></div><div class="nav-item"><a href="/.doc/PressureTest/" class="nav-link">
  压测
</a></div><div class="nav-item"><a href="/.doc/Contribution/" class="nav-link">
  参与贡献
</a></div><div class="nav-item"><a href="/.doc/QQ/" class="nav-link">
  BCVP社区
</a></div><div class="nav-item"><a href="http://apk.neters.club" target="_blank" rel="noopener noreferrer" class="nav-link external">
  接口API
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://vueadmin.neters.club" target="_blank" rel="noopener noreferrer" class="nav-link external">
  管理后台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/anjoy8/Blog.Core" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/.doc/guide/" aria-current="page" class="sidebar-link">W 文档指南</a></li><li><a href="/.doc/guide/getting-started.html" class="sidebar-link">K  快速上手</a></li><li><a href="/.doc/guide/function-sheet.html" aria-current="page" class="active sidebar-link">H  核心功能一览表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#一、表结构解析" class="sidebar-link">一、表结构解析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#_1、用户角色管理部分-必须" class="sidebar-link">1、用户角色管理部分[必须]</a></li><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#_2、接口菜单权限管理部分-必须" class="sidebar-link">2、接口菜单权限管理部分[必须]</a></li><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#_3、博客文章管理部分-可选" class="sidebar-link">3、博客文章管理部分[可选]</a></li><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#_4、其他不重要部分" class="sidebar-link">4、其他不重要部分</a></li></ul></li><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#二、日志记录" class="sidebar-link">二、日志记录</a></li><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#三、控制台信息展示" class="sidebar-link">三、控制台信息展示</a></li><li class="sidebar-sub-header"><a href="/.doc/guide/function-sheet.html#四、nginx一览表" class="sidebar-link">四、Nginx一览表</a></li></ul></li><li><a href="/.doc/guide/cheat-sheet.html" class="sidebar-link">Z  主要知识点</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="h-核心功能一览表"><a href="#h-核心功能一览表" class="header-anchor">#</a> H  核心功能一览表</h1> <h2 id="一、表结构解析"><a href="#一、表结构解析" class="header-anchor">#</a> 一、表结构解析</h2> <p><code>Blog.Core</code> 项目共包含四部分的数据库表结构，分别是：用户角色管理部分、接口菜单权限管理部分、博客文章管理部分、以及其他不重要部分。</p> <blockquote><p>注意：目前不提供与维护数据库数据，直接通过 <code>SeedData</code> 生成种子数据；</p></blockquote> <h3 id="_1、用户角色管理部分-必须"><a href="#_1、用户角色管理部分-必须" class="header-anchor">#</a> 1、用户角色管理部分[必须]</h3> <p>主要是三个表：分别对应用户表(sysUserInfo)、角色表(Role)、用户角色关系表(UserRole)。</p> <img src="http://img.neters.club/doc/usermanager.png" alt="usermanager"> <h3 id="_2、接口菜单权限管理部分-必须"><a href="#_2、接口菜单权限管理部分-必须" class="header-anchor">#</a> 2、接口菜单权限管理部分[必须]</h3> <p>主要是四个表：分别对应接口表(Module)、菜单表(Permission)、接口菜单关系表(ModulePermission)暂时没用到、角色接口菜单关系表(RoleModulePermission)。</p> <img src="http://img.neters.club/doc/permissionmanager.png" alt="permissionmanager"> <h3 id="_3、博客文章管理部分-可选"><a href="#_3、博客文章管理部分-可选" class="header-anchor">#</a> 3、博客文章管理部分[可选]</h3> <p>主要是三个表：分别对应博客表(BlogArticle)、Bug专题表(Topic)、Bug内容表(TopicDetail)。</p> <img src="http://img.neters.club/doc/blogmanager.png" alt="blogmanager"> <h3 id="_4、其他不重要部分"><a href="#_4、其他不重要部分" class="header-anchor">#</a> 4、其他不重要部分</h3> <p>主要是三个表：分别对应Job调度表(TasksQz)、密码库表(PasswordLib)、操作日志表(OperateLog)、广告表(Advertisement)、公告表(Guestbook)。</p> <img src="http://img.neters.club/doc/othersmanager.png" alt="othersmanager"> <h2 id="二、日志记录"><a href="#二、日志记录" class="header-anchor">#</a> 二、日志记录</h2> <p>本框架涵盖了不同领域的日志记录，共五个，分别是：</p> <p>1、全局异常日志</p> <div class="language- extra-class"><pre><code>开启方式：无需操作。  
文件路径：web目录下，Log/GlobalExcepLogs_{日期}.log。  
功能描述：记录项目启动后出现的所有异常日志，不包括中间件中异常。  
</code></pre></div><p>2、IP 请求日志</p> <div class="language- extra-class"><pre><code>开启方式：无需操作。  
文件路径：web目录下，Log/RequestIpInfoLog.log。  
功能描述：记录项目启动后客户端请求的ip和接口信息。   
举例来说：  
{&quot;Ip&quot;:&quot;xxx.xx.xx.x&quot;,&quot;Url&quot;:&quot;/api/values&quot;,&quot;Datetime&quot;:&quot;2020-01-06 18:02:19&quot;,&quot;Date&quot;:&quot;2020-01-06&quot;,&quot;Week&quot;:&quot;周一&quot;}
</code></pre></div><p>3、用户API访问日志</p> <div class="language- extra-class"><pre><code>开启方式：appsettings.json -&gt; Middlewar -&gt; RecordAccessLogs 节点为true。  
文件路径：web目录下，Log/RecordAccessLogs_{日期}.log。  
功能描述：记录项目启动后客户端所有的API访问日志，包括参数、body以及用户信息。  
</code></pre></div><p>4、服务层请求响应AOP日志</p> <div class="language- extra-class"><pre><code>开启方式：appsettings.json -&gt; AppSettings -&gt; LogAOP 节点为true。  
文件路径：web目录下，Log/AOPLog.log。  
功能描述：记录项目启动请求api后，所有的service层日志，包括方法名、参数、响应结果或用户（非必须）。 
</code></pre></div><p>5、数据库操作日志</p> <div class="language- extra-class"><pre><code>开启方式：appsettings.json -&gt; AppSettings -&gt; SqlAOP 节点为true。  
文件路径：web目录下，Log/SqlLog.log。  
功能描述：记录项目启动请求api并访问service后，所有的db操作日志，包括Sql参数与Sql语句。
举例来说：  
--------------------------------
1/6/2020 6:13:04 PM|
【SQL参数】：@bID0:1
【SQL语句】：SELECT `bID`,`bsubmitter`,`btitle`,`bcategory`,`bcontent`,`btraffic`,`bcommentNum`,`bUpdateTime`,`bCreateTime`,`bRemark`,`IsDeleted` FROM `BlogArticle`  WHERE ( `bID` = @bID0 ) 
</code></pre></div><h2 id="三、控制台信息展示"><a href="#三、控制台信息展示" class="header-anchor">#</a> 三、控制台信息展示</h2> <img src="https://img.neters.club/doc/2020-05-09_182758.png" alt="配置" width="800"> <h2 id="四、nginx一览表"><a href="#四、nginx一览表" class="header-anchor">#</a> 四、Nginx一览表</h2> <div class="language- extra-class"><pre class="language-text"><code>#user  nobody;
worker_processes 1;

#error_log  logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;
events {
  worker_connections 1024;
}

http {
  include mime.types;
  default_type application/octet-stream;
  server_names_hash_bucket_size 64;

  #log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
  #                  '$status $body_bytes_sent &quot;$http_referer&quot; '
  #                  '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';

  #access_log  logs/access.log  main;
  sendfile on;
  #tcp_nopush     on;

  #keepalive_timeout  0;
  keepalive_timeout 600;
  proxy_read_timeout 600;
  proxy_send_timeout 600;

  proxy_buffer_size 128k;
  proxy_buffers 32 32k;
  proxy_busy_buffers_size 128k;

  #gzip  on;
 
  ######################################################################
  server {
    listen 80;
    server_name www.neters.club;

    #charset koi8-r;

    #access_log  logs/host.access.log  main;
    location / {
      root C:\code\Code\Neters\home;
      index index.html index.htm;
    }
  }

  server {
    listen 80;
    server_name neters.club;

    #charset koi8-r;

    #access_log  logs/host.access.log  main;
    location / {
      root C:\code\Code\Neters\home;

      index index.html index.htm;
    }
  }

  server {
    listen 80;
    server_name ids.neters.club;
    rewrite ^(.*)$ https://$host$1 permanent;#把http的域名请求转成https，第二种写法在此节的末端

    #charset koi8-r;

    #access_log  logs/host.access.log  main;
    location / {
      #proxy_pass http://localhost:5004;
      root html;
      index index.html index.htm;
    }
  }

  server {
    listen 443 ssl;
    server_name ids.neters.club; #网站域名，和80端口保持一致
    ssl on;
    ssl_certificate 1_ids.neters.club_bundle.crt; #证书公钥
    ssl_certificate_key 2_ids.neters.club.key; #证书私钥
    ssl_session_cache shared:SSL:1m;
    ssl_session_timeout 5m;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers ECDH:AESGCM:HIGH:!RC4:!DH:!MD5:!3DES:!aNULL:!eNULL;
    ssl_prefer_server_ciphers on;

    error_page 497 https://$host$uri?$args;

    location / {
      proxy_pass http://localhost:5004;
      proxy_redirect off;
      proxy_set_header Host $http_host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

      proxy_set_header Cookie $http_cookie;
      #proxy_cookie_path
      chunked_transfer_encoding off;
    }
  }

  server {
    listen 80;
    server_name apk.neters.club;

    #charset koi8-r;

    #access_log  logs/host.access.log  main;
    location / {
      root html;
      proxy_pass http://localhost:9291;
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      proxy_set_header Connection keep-alive;
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_cache_bypass $http_upgrade;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

      index index.html index.htm;
    }

    location /.doc/ {
      proxy_pass http://docs.neters.club/;
    }
  }

  server {
    listen 80;
    server_name docs.neters.club;

    location / {
      root C:\code\Code\Blog.Core\.docs\contents\.vuepress\dist;
      index index.html index.htm;
    }
  }

  server {
    listen 80;
    server_name vueadmin.neters.club;

    location / {
      try_files $uri $uri/ /index.html;
      root C:\code\Code\Blog.Admin\distis;
      #proxy_pass   http://localhost:2364;
      index index.html index.htm;
    }

    location /api/ {
      rewrite ^.+apb/?(.*)$ /$1 break;
      include uwsgi_params;
      proxy_pass http://localhost:9291;
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      #proxy_set_header Connection &quot;upgrade&quot;;
      #proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    location /api2/ {
      rewrite ^.+apb/?(.*)$ /$1 break;
      include uwsgi_params;
      proxy_pass http://localhost:9291;
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      proxy_set_header Connection &quot;upgrade&quot;;
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    location /images/ {
      include uwsgi_params;
      proxy_pass http://localhost:9291;
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      #proxy_set_header Connection &quot;upgrade&quot;;
      #proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
    location /.doc/ {
      proxy_pass http://docsadmin.neters.club/;
    }

    error_page 404 /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
      root html;
    }
  }

  server {
    listen 80;
    server_name docsadmin.neters.club;

    location / {
      root C:\code\Code\Blog.Admin\.doc\contents\.vuepress\dist;
      index index.html index.htm;
    }
  }


  server {
    listen 80;
    server_name ddd.neters.club;
    location / {
      proxy_pass http://localhost:4773;
      index index.php index.html index.htm;
      proxy_set_header Upgrade $http_upgrade;
      proxy_set_header Connection keep-alive;
      proxy_set_header Host $host;
      proxy_cache_bypass $http_upgrade;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;

    }
  }


  server {
    listen 80;
    server_name ask.neters.club;

    #charset koi8-r;

    #access_log  logs/host.access.log  main;
    location / {
      root html;
      proxy_pass http://localhost:5020;
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      #proxy_set_header Connection &quot;upgrade&quot;;
      #proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      index index.html index.htm;
    }
  }


  server {
    listen 80;
    server_name vueblog.neters.club;

    location / {
      try_files $uri $uri/ /index.html;
      root C:\code\Code\Blog.Vue\dist;
      index index.html index.htm;
    }


    location /api {
      rewrite ^.+apb/?(.*)$ /$1 break;
      include uwsgi_params;
      proxy_pass http://localhost:9291;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }


    location /images {
      include uwsgi_params;
      proxy_pass http://localhost:9291;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    error_page 404 /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
      root html;
    }
  }

  upstream nodenuxt {
    server 127.0.0.1:3089; # nuxt 项目监听PC端端口
    keepalive 64;
  }
  server {
    listen 80;
    server_name tibug.neters.club;

    location / {
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      proxy_set_header Connection &quot;upgrade&quot;;
      proxy_set_header Host $host;
      proxy_set_header X-Nginx-Proxy true;
      proxy_cache_bypass $http_upgrade;
      proxy_pass http://nodenuxt;
    }

    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
      root html;
    }
  }

  server {
    listen 80;
    server_name jwt.neters.club;

    location / {
      root C:\code\Code\jwttoken;
      index index.html index.htm;
    }

    error_page 404 /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
      root html;
    }
  }
}

</code></pre></div><blockquote><p>这里说明下，我的 <code>Nginx</code> 文件中，<code>Ids4</code> 项目强制使用 <code>Https</code> ，采用的是直接跳转，这也是一个办法，当然还有第二种办法(感谢 <code>tibos</code>)：</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>server {
  listen 80;
  server_name admin.wmowm.com;
  location / {
    proxy_pass http://localhost:9002;
    index index.php index.html index.htm;
       proxy_set_header   Upgrade $http_upgrade;
       proxy_set_header   Connection keep-alive;
       proxy_set_header   Host $host;
       proxy_cache_bypass $http_upgrade;
       proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header   X-Forwarded-Proto $scheme;

  }
}

server {
  listen 443 ssl;#监听443端口（https默认端口）
  server_name admin.wmowm.com; #填写绑定证书的域名
  ssl_certificate /etc/nginx/conf.d/key/admin.wm.crt;#填写你的证书所在的位置
  ssl_certificate_key /etc/nginx/conf.d/key/admin.wm.key;#填写你的key所在的位置
  ssl_session_timeout 5m;
  ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置
  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置
  ssl_prefer_server_ciphers on;
  location / {
    proxy_pass http://localhost:9002;
    index index.php index.html index.htm;
    proxy_set_header   Upgrade $http_upgrade;
       proxy_set_header   Connection keep-alive;
       proxy_set_header   Host $host;
       proxy_cache_bypass $http_upgrade;
       proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header   X-Forwarded-Proto $scheme;
  }

}
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/.doc/guide/getting-started.html" class="prev">
        K  快速上手
      </a></span> <span class="next"><a href="/.doc/guide/cheat-sheet.html">
        Z  主要知识点
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/.doc/assets/js/app.9f716c86.js" defer></script><script src="/.doc/assets/js/2.9993b050.js" defer></script><script src="/.doc/assets/js/1.2563e7c6.js" defer></script><script src="/.doc/assets/js/29.eec09039.js" defer></script>
  </body>
</html>
