(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{209:function(t,r,_){"use strict";_.r(r);var e=_(6),s=Object(e.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"框架压测报告"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#框架压测报告"}},[t._v("#")]),t._v(" 框架压测报告")]),t._v(" "),r("h2",{attrs:{id:"_1、测试工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1、测试工具"}},[t._v("#")]),t._v(" 1、测试工具")]),t._v(" "),r("p",[t._v("使用 "),r("code",[t._v("JMeter")]),t._v(" 进行压力测试。\n测试时间：2021年1月21日 09点38分。"),r("br"),t._v("\n服务器报告:"),r("br"),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/report.png"}})]),t._v(" "),r("h2",{attrs:{id:"_2、测试准备"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2、测试准备"}},[t._v("#")]),t._v(" 2、测试准备")]),t._v(" "),r("p",[t._v("因为 "),r("code",[t._v("JMeter")]),t._v(" 是使用 "),r("code",[t._v("JAVA")]),t._v(" 写的，所以使用 "),r("code",[t._v("JMeter")]),t._v(" 之前，先安装 "),r("code",[t._v("JAVA")]),t._v(" 环境。"),r("br"),t._v("\n安装好后，在 "),r("code",[t._v("bin")]),t._v(" 文件夹下，点击 "),r("code",[t._v("jmeter.bat")]),t._v(" 启动程序。"),r("br"),t._v("\n启动之后会有两个窗口，一个"),r("code",[t._v("cmd")]),t._v("窗口，一个"),r("code",[t._v("JMeter")]),t._v("的 "),r("code",[t._v("GUI")]),t._v("。前面不要忽略"),r("code",[t._v("CMD")]),t._v("窗口的提示信息，不要关闭它。"),r("br"),t._v("\n注意：使用"),r("code",[t._v("API")]),t._v("模式，不要使用"),r("code",[t._v("GUI")]),t._v("模式。")]),t._v(" "),r("h2",{attrs:{id:"_3、测试配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3、测试配置"}},[t._v("#")]),t._v(" 3、测试配置")]),t._v(" "),r("p",[t._v("本地发布后的 "),r("code",[t._v("windows")]),t._v(" 环境，直接用 "),r("code",[t._v("kestrel")]),t._v(" 启动。"),r("br"),t._v("\n线程数：100"),r("br"),t._v("\n循环数：1000"),r("br"),t._v("\nHTTP默认值：协议："),r("code",[t._v("http")]),t._v("；服务器或IP："),r("code",[t._v("localhost")]),t._v("；端口号："),r("code",[t._v("9291")]),t._v("；"),r("br"),t._v("\nHTTP请求：方法：GET；路径："),r("code",[t._v("/api/blog/ApacheTestUpdate")]),r("br"),t._v("\nHTTP信息请求管理器：无"),r("br"),t._v("\n响应断言：无")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/config.png"}}),t._v(" "),r("h2",{attrs:{id:"_4、项目初始化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4、项目初始化"}},[t._v("#")]),t._v(" 4、项目初始化")]),t._v(" "),r("p",[t._v("目前采用 "),r("code",[t._v("Blog.Core")]),t._v(" 默认的配置，"),r("br"),t._v("\n只开启了内存 "),r("code",[t._v("AOP")]),t._v(" ，"),r("br"),t._v("\n其他的都是默认的，然后也把任务调度也关闭了，"),r("br"),t._v("\n最后注意要把 "),r("code",[t._v("IP限流")]),t._v("给关闭，不然压测没效果，因为限流了："),r("br"),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/init.png"}})]),t._v(" "),r("h2",{attrs:{id:"_5、压测过程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5、压测过程"}},[t._v("#")]),t._v(" 5、压测过程")]),t._v(" "),r("h5",{attrs:{id:"第一阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第一阶段"}},[t._v("#")]),t._v(" 第一阶段")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test01.png"}}),t._v(" "),r("h5",{attrs:{id:"第二阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第二阶段"}},[t._v("#")]),t._v(" 第二阶段")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test02.png"}}),t._v(" "),r("h5",{attrs:{id:"第三阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第三阶段"}},[t._v("#")]),t._v(" 第三阶段")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test03.png"}}),t._v(" "),r("h5",{attrs:{id:"第四阶段-压测后-检测内存是否降低-20m后"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第四阶段-压测后-检测内存是否降低-20m后"}},[t._v("#")]),t._v(" 第四阶段（压测后，检测内存是否降低，20m后）")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test04.png"}}),t._v(" "),r("h5",{attrs:{id:"第五阶段-停止压测1h后"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第五阶段-停止压测1h后"}},[t._v("#")]),t._v(" 第五阶段（停止压测1h后）")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test_05.png"}}),t._v(" "),r("h2",{attrs:{id:"_6、测试结果"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6、测试结果"}},[t._v("#")]),t._v(" 6、测试结果")]),t._v(" "),r("p",[t._v("内存方面，"),r("code",[t._v("100*1000")]),t._v(" 的 "),r("strong",[t._v("压测过程中")]),t._v(" （写操作），项目保证所占内存在 "),r("code",[t._v("350m~500m")]),t._v(" 之间"),r("br"),t._v("\n然后停止一个小时后，内存将为"),r("code",[t._v("150m~200m")]),t._v("：")]),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test04.png"}}),t._v(" "),r("img",{attrs:{src:"https://img.neters.club/doc/test_05.png"}}),t._v(" "),r("h2",{attrs:{id:"_7、压测配置文件下载"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7、压测配置文件下载"}},[t._v("#")]),t._v(" 7、压测配置文件下载")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://img.neters.club/doc/blogcore_blog_ApacheTestUpdate.jmx",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置文件"),r("OutboundLink")],1),r("br"),t._v("\n下载后，导入到工具里，可以直接测试，察看结果树。")]),t._v(" "),r("h2",{attrs:{id:"_8、docker-镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8、docker-镜像"}},[t._v("#")]),t._v(" 8、Docker 镜像")]),t._v(" "),r("p",[t._v("已经提交到 "),r("code",[t._v("docker hub")]),t._v(" 自行拉取操作即可：")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("docker pull laozhangisphi/apkimg:latest\n")])])])])}),[],!1,null,null,null);r.default=s.exports}}]);